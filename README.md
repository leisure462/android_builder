# ESP32æ™ºèƒ½é—¨é”æ‰‹æœºç«¯æ§åˆ¶è½¯ä»¶

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªåŸºäºReact Nativeå¼€å‘çš„ESP32æ™ºèƒ½é—¨é”æ‰‹æœºç«¯æ§åˆ¶è½¯ä»¶ï¼Œé€šè¿‡MQTTåè®®å®ç°ä¸é—¨é”è®¾å¤‡çš„é€šä¿¡ï¼Œæä¾›å®Œæ•´çš„é—¨é”ç®¡ç†åŠŸèƒ½ã€‚

## ä¸»è¦åŠŸèƒ½

### ğŸ” é—¨é”æ§åˆ¶
- è¿œç¨‹å¼€é”/å…³é”
- å®æ—¶çŠ¶æ€ç›‘æ§
- å¼€å…³é”å†å²è®°å½•

### ğŸ”‘ å¯†ç ç®¡ç†
- ä¸»å¯†ç è®¾ç½®ä¸ä¿®æ”¹
- ä¸´æ—¶å¯†ç ç”Ÿæˆä¸ç®¡ç†
- å¯†ç æœ‰æ•ˆæœŸå’Œä½¿ç”¨æ¬¡æ•°é™åˆ¶
- è®¿å®¢å¯†ç åŠŸèƒ½

### ğŸ‘† æŒ‡çº¹è¯†åˆ«
- æŒ‡çº¹å½•å…¥åŠŸèƒ½
- æŒ‡çº¹åˆ é™¤å’Œç®¡ç†
- æŒ‡çº¹è´¨é‡è¯„ä¼°
- æŒ‡çº¹å®¹é‡ç®¡ç†

### ğŸ“¹ è§†é¢‘ç›‘æ§
- å®æ—¶è§†é¢‘æµæ˜¾ç¤º
- ç…§ç‰‡æŠ“æ‹åŠŸèƒ½
- è§†é¢‘å½•åˆ¶åŠŸèƒ½
- ç›‘æ§å†å²è®°å½•

### ğŸ“± ç”¨æˆ·ç•Œé¢
- ç”¨æˆ·ç™»å½•å’Œèº«ä»½éªŒè¯
- è®¾å¤‡æ·»åŠ å’Œé…ç½®
- å¤šè®¾å¤‡ç®¡ç†
- è®¾ç½®å’Œåå¥½é…ç½®

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React Native** - è·¨å¹³å°ç§»åŠ¨åº”ç”¨å¼€å‘
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Navigation** - é¡µé¢å¯¼èˆª
- **Expo** - React Nativeå¼€å‘å¹³å°

### é€šä¿¡åè®®
- **MQTT** - ç‰©è”ç½‘é€šä¿¡åè®®
- **TLS/SSL** - å®‰å…¨ä¼ è¾“åŠ å¯†
- **JSON** - æ•°æ®äº¤æ¢æ ¼å¼

### ä¸»è¦ä¾èµ–åŒ…
```json
{
  "mqtt": "^4.3.7",
  "zustand": "^4.4.1",
  "@react-navigation/native": "^6.1.7",
  "@react-navigation/stack": "^6.3.17",
  "@react-navigation/bottom-tabs": "^6.5.8",
  "expo-secure-store": "~12.3.1",
  "expo-camera": "~13.4.2",
  "lucide-react-native": "^0.263.1"
}
```

## é¡¹ç›®ç»“æ„

```
ESP32LockControl/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ screens/        # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ navigation/     # å¯¼èˆªé…ç½®
â”‚   â””â”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ assets/             # é™æ€èµ„æº
â””â”€â”€ .trae/documents/    # é¡¹ç›®æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm æˆ– yarn
- Expo CLI
- Android Studio (Androidå¼€å‘)
- Xcode (iOSå¼€å‘ï¼Œä»…é™macOS)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd ESP32LockControl
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm start
```

4. **è¿è¡Œåº”ç”¨**
- Android: `npm run android`
- iOS: `npm run ios` (éœ€è¦macOS)
- Web: `npm run web`

## åŠŸèƒ½è¯¦è§£

### MQTTé€šä¿¡
- æ”¯æŒTLS/SSLåŠ å¯†è¿æ¥
- æ–­çº¿è‡ªåŠ¨é‡è¿æœºåˆ¶
- æ¶ˆæ¯è´¨é‡ä¿éšœ(QoS)
- å¿ƒè·³åŒ…å’Œä¼šè¯ç®¡ç†

### å®‰å…¨ç‰¹æ€§
- ç”¨æˆ·èº«ä»½éªŒè¯
- æ•°æ®åŠ å¯†å­˜å‚¨
- æ¶ˆæ¯ç­¾åéªŒè¯
- æ—¶é—´æˆ³é˜²é‡æ”¾æ”»å‡»

### ç”¨æˆ·ä½“éªŒ
- å“åº”å¼è®¾è®¡
- ç¦»çº¿æ¨¡å¼æ”¯æŒ
- é”™è¯¯å¤„ç†å’Œæ¢å¤
- å¤šè¯­è¨€æ”¯æŒ

## æ¶ˆæ¯åè®®

### ä¸»é¢˜ç»“æ„
```
lock/control/{device_id}      # è®¾å¤‡æ§åˆ¶å‘½ä»¤
lock/status/{device_id}       # è®¾å¤‡çŠ¶æ€ä¸ŠæŠ¥
lock/response/{device_id}     # è®¾å¤‡å“åº”æ¶ˆæ¯
user/auth/{device_id}         # ç”¨æˆ·è®¤è¯
lock/password/{device_id}     # å¯†ç ç®¡ç†
lock/fingerprint/{device_id}  # æŒ‡çº¹ç®¡ç†
camera/stream/{device_id}     # è§†é¢‘æµæ•°æ®
```

### æ¶ˆæ¯æ ¼å¼
```json
{
  "command": "unlock",
  "deviceId": "esp32_lock_001",
  "userId": "user123",
  "timestamp": 1234567890,
  "requestId": "req_123456",
  "params": {
    "method": "remote",
    "password": "123456"
  }
}
```

## å¼€å‘æŒ‡å—

### çŠ¶æ€ç®¡ç†
ä½¿ç”¨Zustandè¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œä¸»è¦çŠ¶æ€åŒ…æ‹¬ï¼š
- ç”¨æˆ·ä¿¡æ¯
- è®¾å¤‡åˆ—è¡¨å’ŒçŠ¶æ€
- å¯†ç å’ŒæŒ‡çº¹æ•°æ®
- MQTTè¿æ¥çŠ¶æ€

### æœåŠ¡æ¶æ„
- **MQTTService** - MQTTé€šä¿¡æœåŠ¡
- **SecurityService** - å®‰å…¨åŠ å¯†æœåŠ¡
- **DeviceLogger** - è®¾å¤‡æ—¥å¿—æœåŠ¡
- **MessageQueue** - æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡

### é”™è¯¯å¤„ç†
- ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•
- è®¾å¤‡é”™è¯¯çŠ¶æ€æ£€æµ‹
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•

## éƒ¨ç½²è¯´æ˜

### æ„å»ºå‘å¸ƒç‰ˆæœ¬
```bash
# Android
npm run build:android

# iOS
npm run build:ios
```

### åº”ç”¨å•†åº—å‘å¸ƒ
- å‡†å¤‡åº”ç”¨å›¾æ ‡å’Œæˆªå›¾
- é…ç½®åº”ç”¨ä¿¡æ¯
- ç”Ÿæˆç­¾åè¯ä¹¦
- ä¸Šä¼ åˆ°åº”ç”¨å•†åº—

## æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
npm test
```

### é›†æˆæµ‹è¯•
```bash
npm run test:integration
```

### ç«¯åˆ°ç«¯æµ‹è¯•
```bash
npm run test:e2e
```

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. æ¨é€åˆ°è¿œç¨‹ä»“åº“
5. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é‚®ç®±: [your-email@example.com]
- GitHub Issues

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-15)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ” å®Œæ•´çš„é—¨é”æ§åˆ¶åŠŸèƒ½
- ğŸ”‘ å¯†ç ç®¡ç†ç³»ç»Ÿ
- ğŸ‘† æŒ‡çº¹å½•å…¥å’Œç®¡ç†
- ğŸ“¹ è§†é¢‘ç›‘æ§åŠŸèƒ½
- ğŸ“± å®Œæ•´çš„ç”¨æˆ·ç•Œé¢